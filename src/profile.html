<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sobre Nosotros | HealthUp</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header class="site-header sticky-header">
        <div class="container header-inner">
            <a href="index.html" class="logo" style="display:flex;align-items:center;gap:10px;">
                <img src="../logo.png" alt="HealthUp logo" style="height:38px;width:38px;vertical-align:middle;border-radius:8px;">
                <span>
                    HealthUp
                    <span class="tagline" style="display:block;">Tu salud, tu plan — simple y accesible</span>
                </span>
            </a>
            <nav class="main-nav" aria-label="Menú principal">
                <button class="nav-toggle" aria-label="Abrir menú">&#9776;</button>
                <ul>
                    <li><a href="profile.html">Sobre Nosotros</a></li>
                    <li><a href="contact.html">Contacto</a></li>
                    <li><a href="meal-plans.html">Planes</a></li>
                    <li><a href="bodyfat.html">Calculadora de Grasa</a></li>
                </ul>
            </nav>
            <div class="auth" id="authArea">
                <!-- El botón de login o el menú de usuario se inyectan por JS -->
            </div>
        </div>
    </header>
    <main>
        <section class="about-section container" id="aboutSection">
            <h1>Sobre HealthUp</h1>
            <p class="about-lead">
                En HealthUp creemos que cada persona merece un plan de bienestar adaptado a su realidad. Somos un equipo multidisciplinario de profesionales de la salud, tecnología y nutrición, comprometidos con acercar soluciones accesibles y personalizadas para mejorar la calidad de vida de nuestros usuarios.
            </p>
            <h2>Nuestra misión</h2>
            <p>
                Democratizar el acceso a planes de alimentación y entrenamiento, combinando ciencia, tecnología e inteligencia artificial para que cualquier persona pueda alcanzar sus objetivos de salud y bienestar, sin importar su punto de partida.
            </p>
            <h2>¿Quiénes somos?</h2>
            <ul class="about-list">
                <li><strong>Nutricionistas y entrenadores:</strong> Desarrollan y validan los planes y recomendaciones.</li>
                <li><strong>Equipo de tecnología:</strong> Implementa la plataforma y la IA que personaliza cada experiencia.</li>
                <li><strong>Soporte y comunidad:</strong> Acompañamos a cada usuario en su proceso, brindando motivación y seguimiento.</li>
            </ul>
            <h2>¿Por qué elegirnos?</h2>
            <ul class="about-list">
                <li>Planes gratuitos y personalizados según tus datos y preferencias.</li>
                <li>Recomendaciones basadas en evidencia y adaptadas por IA.</li>
                <li>Privacidad y confidencialidad de tus datos.</li>
                <li>Desarrollado como proyecto académico para la facultad, con fines educativos y demostrativos.</li>
            </ul>
        </section>
        <section class="about-section container" id="profileSection" style="display:none;">
            <h1>Mi Perfil</h1>
            <div id="profileData" style="font-size:1.15rem;line-height:2;margin-bottom:24px;"></div>
            <button class="button primary" id="logoutBtn">Cerrar sesión</button>
        </section>
    </main>
    <footer>
        <div class="container">
            <p>&copy; 2025 HealthUp. Todos los derechos reservados.</p>
        </div>
    </footer>
    <script src="js/scripts.js"></script>
    <script src="js/nav.js"></script>
    <script src="js/auth-modal.js"></script>
    <script>
    // Mostrar perfil si está logueado
    function showProfile() {
        const username = localStorage.getItem('fitlife_logged');
        if (!username) {
            document.getElementById('aboutSection').style.display = '';
            document.getElementById('profileSection').style.display = 'none';
            // Mensaje para no logueado
            const about = document.getElementById('aboutSection');
            let msg = document.getElementById('nologinmsg');
            if (!msg) {
                msg = document.createElement('div');
                msg.id = 'nologinmsg';
                msg.style = "margin:32px 0;text-align:center;";
                msg.innerHTML = `<strong>Para ver tu perfil personal, <a href="#" id="loginBtnProfile" class="btn login-btn">iniciá sesión</a>.</strong>`;
                about.appendChild(msg);
            }
            // Botón login funcional
            setTimeout(() => {
                const btn = document.getElementById('loginBtnProfile');
                if (btn) {
                    btn.onclick = function(e){ e.preventDefault(); document.getElementById('loginBtn').click(); };
                }
            }, 100);
            return;
        }
        // Buscar usuario
        let users = JSON.parse(localStorage.getItem('fitlife_users') || '[]');
        let user = users.find(u => u.username === username);
        if (!user) {
            localStorage.removeItem('fitlife_logged');
            location.reload();
            return;
        }
        document.getElementById('aboutSection').style.display = 'none';
        document.getElementById('profileSection').style.display = '';
        document.getElementById('profileData').innerHTML = `
            <strong>Usuario:</strong> ${user.username}<br>
            <strong>Email:</strong> ${user.email}<br>
            <strong>Estado de cuenta:</strong> ${user.plan === 'pago' ? 'Plan de pago' : 'Plan gratuito'}
        `;
        document.getElementById('logoutBtn').onclick = function() {
            localStorage.removeItem('fitlife_logged');
            location.reload();
        };
    }
    document.addEventListener('DOMContentLoaded', showProfile);
    window.addEventListener('storage', showProfile);
    </script>
    <script>
    function renderUserMenu() {
        const authArea = document.getElementById('authArea');
        const username = localStorage.getItem('fitlife_logged');
        let users = JSON.parse(localStorage.getItem('fitlife_users') || '[]');
        let user = users.find(u => u.username === username);
        if (user) {
            authArea.innerHTML = `
                <div class="user-menu">
                    <button class="user-avatar" id="userAvatarBtn" aria-label="Perfil">
                        <img src="https://ui-avatars.com/api/?name=${encodeURIComponent(user.username)}&background=181f1a&color=7bed9f&rounded=true&size=48" alt="Avatar" />
                    </button>
                    <div class="user-dropdown" id="userDropdown" style="display:none;">
                        <div class="user-info">
                            <img src="https://ui-avatars.com/api/?name=${encodeURIComponent(user.username)}&background=181f1a&color=7bed9f&rounded=true&size=64" alt="Avatar" />
                            <div>
                                <div class="user-name">${user.username}</div>
                                <div class="user-email">${user.email}</div>
                            </div>
                        </div>
                        <a href="profile.html" class="user-profile-link">Ver perfil</a>
                        <button id="logoutBtn" class="user-logout">Cerrar sesión</button>
                    </div>
                </div>
            `;
            const avatarBtn = document.getElementById('userAvatarBtn');
            const dropdown = document.getElementById('userDropdown');
            avatarBtn.onclick = function(e) {
                e.stopPropagation();
                dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
            };
            document.body.addEventListener('click', function() {
                dropdown.style.display = 'none';
            });
            document.getElementById('logoutBtn').onclick = function() {
                localStorage.removeItem('fitlife_logged');
                location.reload();
            };
        } else {
            authArea.innerHTML = `<a href="#" class="btn login-btn" id="loginBtn">Iniciar sesión / Registrarse</a>`;
            setTimeout(() => {
                const loginBtn = document.getElementById('loginBtn');
                if (loginBtn) {
                    loginBtn.onclick = function(e) {
                        e.preventDefault();
                        const modal = document.getElementById('authModal');
                        if (modal) {
                            modal.style.display = 'flex';
                            document.body.style.overflow = 'hidden';
                        }
                    };
                }
            }, 50);
        }
    }
    document.addEventListener('DOMContentLoaded', renderUserMenu);
    window.addEventListener('storage', renderUserMenu);
    </script>
</body>
</html>